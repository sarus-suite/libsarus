add_subdirectory(aux)

include(add_unit_test)
set(link_libraries "libsarus_testaux")
set(TEST_LINK_LIBS "libsarus_testaux")

__gtest_add_unit_test(CLIArguments test_CLIArguments.cpp "User")
add_unit_test(Error test_Error.cpp "${link_libraries}")
add_unit_test(Flock test_Flock.cpp "${link_libraries}")
add_unit_test(HookUtility test_HookUtility.cpp "${link_libraries}")
add_unit_test(Lockfile test_Lockfile.cpp "${link_libraries}")
add_unit_test(Logger test_Logger.cpp "${link_libraries}")
add_unit_test(MountParser test_MountParser.cpp "${link_libraries}")
add_unit_test(PasswdDB test_PasswdDB.cpp "${link_libraries}")
add_unit_test_as_root(DeviceMount test_DeviceMount.cpp "${link_libraries}")
add_unit_test_as_root(DeviceParser test_DeviceParser.cpp "${link_libraries}")
add_unit_test_as_root(MountUtility test_MountUtility.cpp "${link_libraries}")
add_unit_test_as_root(Mount test_Mount.cpp "${link_libraries}")
add_unit_test_as_root(Utility test_Utility.cpp "${link_libraries}")
